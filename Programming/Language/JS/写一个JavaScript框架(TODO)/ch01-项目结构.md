
```txt
                          Middlewares
  ┌────────────────────────────────────────────────────────┐
  │┌───────────┐ ┌──────────┐ ┌────────┐ ┌──────┐ ┌──────┐ │
  ││Interpolate│ │Attributes│ │Renderer│ │Router│ │Others│ │
  │└───────────┘ └──────────┘ └────────┘ └──────┘ └──────┘ ├──┐
  └────────────────────────────────────────────────────────┘  │
               ▲       ▲              │                       │
     Helpers   │       │              │        Components     │
  ┌──────────┐ │   ┌───┴───┬──────┐   │        ┌────────┐     │
  │┌────────┐│─┘   │Symbols│      ▼   ▼        │ ┌───┐  │     │
  ││Compiler││     └───┬───┘    ┌────────┐     │ │App│  │     │
  │└────────┘│         │        │Your App│◄────┤ └───┘  │◄────┘
  │┌────────┐│    ┌────▼─────┐  └────────┘     │┌──────┐│
  ││Observer││───►│ Component│    ▲  ▲         ││Router││
  │└────────┘│    └──────────┴────┘  │         │└──────┘│
  └──────────┘                       │         │┌──────┐│
            │                        │         ││Others││
            └────────────────────────┘         │└──────┘│
                                               └────────┘
```

## 可扩展性

- 小型内核和预定义的依赖处理系统

## 依赖注入

- 使用中间件进行依赖注入
- 依赖注入是一种设计模式，使服务可以通过引用传递到依赖对象中
- 依赖注入容器：帮助用户实例化和配置依赖对象，如果有统一的依赖注入接口，就不需要容器了

```js
component()
	.use(paint)
	.register('comp-name');
	
function paint(elem, state, next) {
	elem.style.color = 'red';
	next();
}
```
